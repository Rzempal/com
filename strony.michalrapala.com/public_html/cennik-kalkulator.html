<!-- cennik-kalkulator.html v0.008 Kalkulator pełna szerokość (wyrównanie z hamburgerem) -->
<!DOCTYPE html>
<html lang="pl" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cennik i kalkulator - twoja-strona.online</title>
  <meta name="description" content="Pakiety abonamentowe WaaS i kalkulator wyceny z modelem Setup + Abonament.">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="apple-touch-icon" href="/favicon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="navbar-container"></div>

  <!-- SUBPAGE HERO -->
  <header class="subpage-hero">
    <h1>Cennik i kalkulator</h1>
    <p>Transparentne ceny Setup + Abonament. Narzędzie do szybkiej estymacji kosztów WaaS.</p>
  </header>

  <!-- PAKIETY WAAS -->
  <section class="section">
    <div class="container">
      <div class="section-header fade-in-element">
        <span class="section-tag">Pakiety WaaS</span>
        <h2 class="section-title">Wybierz pakiet</h2>
        <p class="section-description">Konkurencyjne ceny dzięki optymalizacji procesu. Płacisz za setup, zyskujesz spokój z abonamentem.</p>
      </div>

      <div class="cards-grid" style="max-width: 1200px; margin: 0 auto;">
        <!-- Pakiet 1: WIZYTÓWKA (Starter) -->
        <div class="pricing-card fade-in-element">
          <h3 class="pricing-card-title" style="color: var(--color-yellow-text);">Wizytówka (Starter)</h3>
          <p class="pricing-card-note" style="margin-bottom: 1.5rem;">Obecność w sieci</p>

          <div style="border-top: 2px solid var(--color-text-muted); padding-top: 1rem; margin-bottom: 1rem;">
            <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 0.25rem;">Setup (jednorazowo)</p>
            <p class="pricing-card-price" style="font-size: 2rem; margin-bottom: 1rem;">500-700 zł</p>
            <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 0.25rem;">Abonament miesięczny</p>
            <p class="pricing-card-price" style="font-size: 2rem; color: var(--color-yellow-text);">50-80 zł/mc</p>
          </div>

          <ul>
            <li>Strona One-page</li>
            <li>Domena + Hosting + SSL</li>
            <li>Formularz kontaktowy</li>
            <li>Aktualizacje bezpieczeństwa</li>
          </ul>
          <a href="kontakt.html" class="btn btn-primary" style="width: 100%;">Zapytaj o pakiet</a>
        </div>

        <!-- Pakiet 2: FIRMA (Core - REKOMENDOWANY) -->
        <div class="pricing-card fade-in-element" style="border: 3px solid var(--color-purple); position: relative; transform: scale(1.05);">
          <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: var(--color-purple); padding: 0.5rem 1.5rem; font-family: var(--font-display); font-size: 0.75rem; font-weight: 900; text-transform: uppercase; color: #ffffff; letter-spacing: 0.1em;">
            Najpopularniejszy
          </div>
          <h3 class="pricing-card-title" style="color: var(--color-purple);">Firma (Core)</h3>
          <p class="pricing-card-note" style="margin-bottom: 1.5rem;">Wizerunek + oszczędność czasu</p>

          <div style="border-top: 2px solid var(--color-text-muted); padding-top: 1rem; margin-bottom: 1rem;">
            <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 0.25rem;">Setup (jednorazowo)</p>
            <p class="pricing-card-price" style="font-size: 2rem; margin-bottom: 1rem;">1500-2000 zł</p>
            <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 0.25rem;">Abonament miesięczny</p>
            <p class="pricing-card-price" style="font-size: 2rem; color: var(--color-purple);">150 zł/mc</p>
          </div>

          <ul>
            <li>Do 5 podstron</li>
            <li><strong>1h prac w cenie/mc</strong></li>
            <li>Raporty miesięczne</li>
            <li>Wsparcie techniczne</li>
          </ul>
          <a href="kontakt.html" class="btn btn-primary" style="width: 100%;">Zapytaj o pakiet</a>
        </div>

        <!-- Pakiet 3: SPRZEDAŻ (Growth) -->
        <div class="pricing-card fade-in-element">
          <h3 class="pricing-card-title" style="color: var(--color-green);">Sprzedaż (Growth)</h3>
          <p class="pricing-card-note" style="margin-bottom: 1.5rem;">Pozyskiwanie leadów</p>

          <div style="border-top: 2px solid var(--color-text-muted); padding-top: 1rem; margin-bottom: 1rem;">
            <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 0.25rem;">Setup (jednorazowo)</p>
            <p class="pricing-card-price" style="font-size: 2rem; margin-bottom: 1rem;">Indywidualnie</p>
            <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 0.25rem;">Abonament miesięczny</p>
            <p class="pricing-card-price" style="font-size: 2rem; color: var(--color-green);">od 250 zł/mc</p>
          </div>

          <ul>
            <li>Landing sprzedażowy</li>
            <li>Integracja z CRM</li>
            <li>Zaawansowane SEO</li>
            <li>Google Ads / Analytics</li>
          </ul>
          <a href="kontakt.html" class="btn btn-primary" style="width: 100%;">Zapytaj o pakiet</a>
        </div>
      </div>

      <p class="text-center mt-4 fade-in-element" style="color: var(--color-text-muted); font-size: 0.875rem;">
        * Model WaaS (Website as a Service) - płacisz za setup, zyskujesz święty spokój z abonamentem.
      </p>
    </div>
  </section>

  <!-- KALKULATOR -->
  <section id="kalkulator-wyceny" class="section" style="background: var(--color-bg-alt);">
    <div class="container">
      <div class="section-header fade-in-element">
        <span class="section-tag">Kalkulator</span>
        <h2 class="section-title">Wycena online</h2>
        <p class="section-description">Oszacuj koszt Setup + Abonament. Pamiętaj, że jest to wycena orientacyjna.</p>
      </div>

      <div class="calculator-container fade-in-element">
        <form id="pricingCalculatorForm">

          <!-- WYBÓR MODELU -->
          <div class="form-group" style="background: var(--color-bg); padding: 1.5rem; border: 2px solid var(--color-yellow); margin-bottom: 2rem;">
            <label style="margin-bottom: 1rem;">Wybierz model współpracy:</label>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <label style="display: flex; align-items: center; padding: 1rem; background: var(--color-bg-alt); border: 2px solid var(--color-text); cursor: pointer; transition: all var(--transition); text-transform: none; letter-spacing: normal; font-weight: 500;">
                <input type="radio" id="modelOneTime" name="businessModel" value="onetime" style="width: 20px; height: 20px; margin-right: 0.75rem; accent-color: var(--color-yellow);">
                <span>Jednorazowy projekt</span>
              </label>
              <label style="display: flex; align-items: center; padding: 1rem; background: var(--color-bg-alt); border: 2px solid var(--color-yellow); cursor: pointer; transition: all var(--transition); text-transform: none; letter-spacing: normal; font-weight: 700;">
                <input type="radio" id="modelWaaS" name="businessModel" value="waas" checked style="width: 20px; height: 20px; margin-right: 0.75rem; accent-color: var(--color-yellow);">
                <span>Stała opieka (WaaS) ⭐</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label for="siteType">Rodzaj strony:</label>
            <select id="siteType" name="siteType">
              <option value="onepage">Strona One Page (wizytówka)</option>
              <option value="multipage">Strona wielostronicowa</option>
            </select>
          </div>

          <div id="subpages-container">
            <div class="form-group">
              <label for="numSubpages">Liczba podstron (2-10):</label>
              <input type="number" id="numSubpages" name="numSubpages" min="2" max="10" value="3">
            </div>
          </div>

          <div class="form-group">
            <label for="designComplexity">Poziom skomplikowania designu:</label>
            <input type="range" id="designComplexity" name="designComplexity" min="1" max="5" value="3">
            <span id="designComplexityValue" class="range-value-display">Standardowy (3/5)</span>
          </div>

          <div class="form-group">
            <label style="margin-bottom: 1rem;">Dodatkowe funkcje:</label>
            <div class="checkbox-group">
              <label><input type="checkbox" id="featContactForm" name="features" value="contactForm"><span>Formularz kontaktowy</span></label>
              <label><input type="checkbox" id="featGoogleMaps" name="features" value="googleMaps"><span>Mapa Google</span></label>
              <label><input type="checkbox" id="featSocialMedia" name="features" value="socialMedia"><span>Integracja Social Media</span></label>
              <label><input type="checkbox" id="featBasicSeo" name="features" value="basicSeo"><span>Optymalizacja SEO</span></label>
              <label><input type="checkbox" id="featAiContent" name="features" value="aiContent"><span>Wsparcie AI w treści</span></label>
              <label><input type="checkbox" id="featGallery" name="features" value="gallery"><span>Galeria zdjęć</span></label>
            </div>
          </div>

          <button type="button" id="calculatePriceBtn" class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 1rem;">
            Oblicz szacunkową cenę
          </button>
        </form>

        <div id="calculatorResult" class="calculator-result hidden">
          <h3 id="calculatorResultTitle">Twoja orientacyjna wycena:</h3>
          <p id="suggestedPackageText" class="suggested-package"></p>

          <div style="margin: 1.5rem 0; padding: 1.5rem; background: rgba(0,0,0,0.2); border-radius: 4px;">
            <div style="margin-bottom: 1rem;">
              <p style="font-size: 0.875rem; margin-bottom: 0.25rem;">Inwestycja na start:</p>
              <p id="setupPriceValue" style="font-family: var(--font-display); font-size: 2.5rem; font-weight: 900; color: var(--color-on-accent);"></p>
            </div>
            <div id="monthlySection">
              <p style="font-size: 0.875rem; margin-bottom: 0.25rem;">Twój święty spokój:</p>
              <p id="monthlyPriceValue" style="font-family: var(--font-display); font-size: 2.5rem; font-weight: 900; color: var(--color-on-accent);"></p>
            </div>
          </div>

          <p class="price-note">
            To tylko orientacyjna wycena. <a href="kontakt.html">Skontaktuj się</a> po dokładną ofertę.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta-section">
    <div class="container">
      <h2 class="cta-title fade-in-element">Pytania?</h2>
      <p class="cta-description fade-in-element">Skontaktuj się, chętnie odpowiem na wszystkie pytania.</p>
      <div class="cta-buttons fade-in-element">
        <a href="kontakt.html" class="btn btn-primary">Skontaktuj się</a>
        <a href="realizacje.html" class="btn btn-outline">Zobacz realizacje</a>
      </div>
    </div>
  </section>

  <div id="footer-container"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const navbarContainer = document.getElementById('navbar-container');
      const footerContainer = document.getElementById('footer-container');

      async function loadTemplate(url, containerElement) {
        try {
          const response = await fetch(url);
          if (!response.ok) throw new Error(`Nie udało się załadować ${url}`);
          const html = await response.text();
          containerElement.innerHTML = html;
          if (containerElement.id === 'navbar-container') {
            initializeMobileMenu();
            initializeNavbarScroll();
            initializeDesktopHamburger();
          }
          if (containerElement.id === 'footer-container') {
            initializeThemeToggle();
          }
        } catch (error) {
          console.error('Błąd ładowania szablonu:', error);
        }
      }

      function initializeMobileMenu() {
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        if (menuToggle && mobileMenu) {
          menuToggle.addEventListener('click', () => {
            const isOpen = mobileMenu.classList.toggle('open');
            const iconMenu = menuToggle.querySelector('.icon-menu');
            const iconClose = menuToggle.querySelector('.icon-close');
            if (iconMenu && iconClose) {
              iconMenu.classList.toggle('hidden', isOpen);
              iconClose.classList.toggle('hidden', !isOpen);
            }
            menuToggle.setAttribute('aria-expanded', String(isOpen));
          });
        }
      }

      function initializeNavbarScroll() {
        const navMain = document.getElementById('nav-main');
        if (!navMain) return;
        const handleScroll = () => {
          const scrolled = window.scrollY > 50;
          const isExpanded = navMain.classList.contains('nav-expanded');
          if (scrolled && !isExpanded) {
            navMain.classList.add('nav-collapsed');
          } else if (!scrolled) {
            navMain.classList.remove('nav-collapsed', 'nav-expanded');
            const desktopHamburger = document.getElementById('desktop-hamburger');
            if (desktopHamburger) {
              const iconMenu = desktopHamburger.querySelector('.icon-menu');
              const iconClose = desktopHamburger.querySelector('.icon-close');
              if (iconMenu && iconClose) {
                iconMenu.classList.remove('hidden');
                iconClose.classList.add('hidden');
              }
              desktopHamburger.setAttribute('aria-expanded', 'false');
            }
          }
        };
        window.addEventListener('scroll', handleScroll, { passive: true });
      }

      function initializeDesktopHamburger() {
        const desktopHamburger = document.getElementById('desktop-hamburger');
        const navMain = document.getElementById('nav-main');
        if (!desktopHamburger || !navMain) return;
        desktopHamburger.addEventListener('click', () => {
          const isExpanded = navMain.classList.toggle('nav-expanded');
          const iconMenu = desktopHamburger.querySelector('.icon-menu');
          const iconClose = desktopHamburger.querySelector('.icon-close');
          if (iconMenu && iconClose) {
            iconMenu.classList.toggle('hidden', isExpanded);
            iconClose.classList.toggle('hidden', !isExpanded);
          }
          desktopHamburger.setAttribute('aria-expanded', String(isExpanded));
        });
      }

      function initializeThemeToggle() {
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;

        const savedTheme = localStorage.getItem('theme') || 'dark';
        html.setAttribute('data-theme', savedTheme);

        if (themeToggle) {
          themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
          });
        }
      }

      if (navbarContainer) loadTemplate('navbar-template.html', navbarContainer);
      if (footerContainer) loadTemplate('footer-template.html', footerContainer);

      // CALCULATOR LOGIC
      const siteTypeSelect = document.getElementById('siteType');
      const subpagesContainer = document.getElementById('subpages-container');
      const numSubpagesInput = document.getElementById('numSubpages');
      const designComplexityInput = document.getElementById('designComplexity');
      const designComplexityValueSpan = document.getElementById('designComplexityValue');
      const calculatePriceBtn = document.getElementById('calculatePriceBtn');
      const calculatorResultDiv = document.getElementById('calculatorResult');
      const suggestedPackageTextP = document.getElementById('suggestedPackageText');
      const setupPriceValueP = document.getElementById('setupPriceValue');
      const monthlyPriceValueP = document.getElementById('monthlyPriceValue');
      const monthlySectionDiv = document.getElementById('monthlySection');
      const modelOneTimeRadio = document.getElementById('modelOneTime');
      const modelWaaSRadio = document.getElementById('modelWaaS');

      function updateDesignComplexityDisplay() {
        if(designComplexityInput && designComplexityValueSpan) {
          const value = designComplexityInput.value;
          let label = "";
          switch(value) {
            case '1': label = "Bardzo prosty"; break;
            case '2': label = "Prosty"; break;
            case '3': label = "Standardowy"; break;
            case '4': label = "Rozbudowany"; break;
            case '5': label = "Zaawansowany"; break;
            default: label = "Standardowy";
          }
          designComplexityValueSpan.textContent = `${label} (${value}/5)`;
        }
      }

      function toggleSubpagesInput() {
        if (siteTypeSelect && subpagesContainer) {
          if (siteTypeSelect.value === 'multipage') {
            subpagesContainer.classList.add('visible');
            numSubpagesInput.disabled = false;
          } else {
            subpagesContainer.classList.remove('visible');
            numSubpagesInput.disabled = true;
          }
        }
      }

      function calculateAndDisplayPrice() {
        if (!siteTypeSelect || !designComplexityInput || !numSubpagesInput || !calculatorResultDiv) {
          return;
        }

        const featureCheckboxes = document.querySelectorAll('input[name="features"]');
        const isWaaS = modelWaaSRadio.checked;
        let baseSetup = 0;
        const siteType = siteTypeSelect.value;
        const designLevel = parseInt(designComplexityInput.value);
        let isContactFormSelected = false;
        let featureCost = 0;

        featureCheckboxes.forEach(checkbox => {
          if (checkbox.checked) {
            if (checkbox.id === 'featContactForm') isContactFormSelected = true;
            switch (checkbox.id) {
              case 'featGoogleMaps': featureCost += 50; break;
              case 'featSocialMedia': featureCost += 70; break;
              case 'featBasicSeo': featureCost += 150; break;
              case 'featAiContent': featureCost += 200; break;
              case 'featGallery': featureCost += 100; break;
            }
          }
        });

        // Kalkulacja Setup Fee
        if (siteType === 'onepage') {
          baseSetup = 350;
          if (isContactFormSelected) baseSetup += 50;
        } else {
          baseSetup = 600;
          const numSubpages = parseInt(numSubpagesInput.value);
          if (numSubpages >= 2 && numSubpages <= 10) {
            baseSetup += (numSubpages - 1) * 80;
          } else if (numSubpages < 2 && numSubpages > 0) {
            baseSetup += 1 * 80;
          } else if (numSubpages === 0 && siteType === 'multipage') {
            baseSetup += 1 * 80;
          }
        }

        const designCostModifiers = [0, 50, 150, 250, 400];
        baseSetup += designCostModifiers[designLevel - 1];
        baseSetup += featureCost;

        if (baseSetup < 299 && siteType === 'onepage') baseSetup = 299;
        else if (baseSetup < 499 && siteType === 'multipage') baseSetup = 499;

        let setupPrice = Math.round(baseSetup / 10) * 10;

        // Kalkulacja Monthly Retainer (tylko dla WaaS)
        let monthlyPrice = 0;
        if (isWaaS) {
          if (siteType === 'onepage') {
            monthlyPrice = 60; // Base dla wizytówki
          } else {
            const numSubpages = parseInt(numSubpagesInput.value);
            if (numSubpages <= 3) {
              monthlyPrice = 100;
            } else if (numSubpages <= 5) {
              monthlyPrice = 150;
            } else {
              monthlyPrice = 200;
            }
          }

          // Dodatkowe funkcje zwiększają abonament
          if (featureCost > 300) monthlyPrice += 50;
          else if (featureCost > 150) monthlyPrice += 30;

          monthlyPrice = Math.round(monthlyPrice / 10) * 10;
        }

        // Sugestia pakietu
        let suggestedPackage = "";
        if (isWaaS) {
          if (siteType === 'onepage' && setupPrice >= 400 && setupPrice <= 800 && monthlyPrice <= 100) {
            suggestedPackage = "Najbardziej zbliżony: Pakiet Wizytówka (Starter)";
          } else if (siteType === 'multipage' && setupPrice >= 1200 && setupPrice <= 2200 && monthlyPrice >= 100 && monthlyPrice <= 180) {
            suggestedPackage = "Najbardziej zbliżony: Pakiet Firma (Core) ⭐";
          } else if (setupPrice > 2000 || monthlyPrice > 180) {
            suggestedPackage = "Najbardziej zbliżony: Pakiet Sprzedaż (Growth)";
          } else {
            suggestedPackage = "Wycena indywidualna";
          }
        } else {
          suggestedPackage = "Model jednorazowy (bez abonamentu)";
        }

        // Wyświetlanie wyników
        if (suggestedPackageTextP) suggestedPackageTextP.textContent = suggestedPackage;
        if (setupPriceValueP) setupPriceValueP.textContent = `${setupPrice} zł`;

        if (isWaaS) {
          if (monthlyPriceValueP) monthlyPriceValueP.textContent = `${monthlyPrice} zł/mc`;
          if (monthlySectionDiv) monthlySectionDiv.style.display = 'block';
        } else {
          if (monthlySectionDiv) monthlySectionDiv.style.display = 'none';
        }

        if (calculatorResultDiv) calculatorResultDiv.classList.remove('hidden');
        if (calculatorResultDiv) calculatorResultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }

      if (siteTypeSelect) siteTypeSelect.addEventListener('change', toggleSubpagesInput);
      if (designComplexityInput) {
        designComplexityInput.addEventListener('input', updateDesignComplexityDisplay);
        updateDesignComplexityDisplay();
      }
      if (calculatePriceBtn) calculatePriceBtn.addEventListener('click', calculateAndDisplayPrice);
      if (modelOneTimeRadio) modelOneTimeRadio.addEventListener('change', calculateAndDisplayPrice);
      if (modelWaaSRadio) modelWaaSRadio.addEventListener('change', calculateAndDisplayPrice);

      if (siteTypeSelect) toggleSubpagesInput();
    });

    const animatedElements = document.querySelectorAll('.fade-in-element');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    animatedElements.forEach(element => observer.observe(element));
  </script>
</body>
</html>
