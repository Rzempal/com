<!-- kontakt.html v0.008 Formularz pełna szerokość (wyrównanie z hamburgerem) -->
<!DOCTYPE html>
<html lang="pl" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kontakt - twoja-strona.online</title>
  <meta name="description" content="Skontaktuj się - wybierz model współpracy WaaS lub projekt jednorazowy.">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="apple-touch-icon" href="/favicon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="navbar-container"></div>

  <!-- SUBPAGE HERO -->
  <header class="subpage-hero">
    <h1>Kontakt</h1>
    <p>Masz pytania lub chcesz omówić projekt? Jestem do Twojej dyspozycji!</p>
  </header>

  <!-- FORMULARZ KONTAKTOWY -->
  <section class="section">
    <div class="container">
      <div class="section-header fade-in-element">
        <span class="section-tag">Formularz</span>
        <h2 class="section-title">Napisz do mnie</h2>
        <p class="section-description">Wypełnij formularz, a odezwę się najszybciej jak to możliwe (zazwyczaj w ciągu 24-48h).</p>
      </div>

      <div>
        <form id="contactForm" class="fade-in-element" style="background: var(--color-bg-alt); border: 3px solid var(--color-text); padding: 2.5rem;">

          <!-- Imię -->
          <div class="form-group" style="margin-bottom: 2rem;">
            <label style="display: block; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.75rem; font-size: 0.875rem;">Imię *</label>
            <input type="text" id="name" name="name" required
                   style="width: 100%; padding: 1rem; background: var(--color-bg); border: 2px solid var(--color-text); color: var(--color-text); font-size: 1rem; transition: border-color var(--transition);"
                   onfocus="this.style.borderColor='var(--color-yellow)'"
                   onblur="this.style.borderColor='var(--color-text)'">
          </div>

          <!-- Email -->
          <div class="form-group" style="margin-bottom: 2rem;">
            <label style="display: block; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.75rem; font-size: 0.875rem;">Email *</label>
            <input type="email" id="email" name="email" required
                   style="width: 100%; padding: 1rem; background: var(--color-bg); border: 2px solid var(--color-text); color: var(--color-text); font-size: 1rem; transition: border-color var(--transition);"
                   onfocus="this.style.borderColor='var(--color-yellow)'"
                   onblur="this.style.borderColor='var(--color-text)'">
          </div>

          <!-- Model współpracy -->
          <div class="form-group" style="margin-bottom: 2rem; background: var(--color-bg); padding: 1.5rem; border: 2px solid var(--color-yellow);">
            <label style="display: block; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 1rem; font-size: 0.875rem;">Interesuje mnie: *</label>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <label style="display: flex; align-items: center; padding: 1rem; background: var(--color-bg-alt); border: 2px solid var(--color-text); cursor: pointer; transition: all var(--transition);">
                <input type="radio" id="modelOneTime" name="businessModel" value="onetime"
                       style="width: 20px; height: 20px; margin-right: 0.75rem; accent-color: var(--color-yellow);">
                <span style="font-size: 0.875rem; font-weight: 500;">Jednorazowy projekt</span>
              </label>
              <label style="display: flex; align-items: center; padding: 1rem; background: var(--color-bg-alt); border: 2px solid var(--color-green); cursor: pointer; transition: all var(--transition);">
                <input type="radio" id="modelWaaS" name="businessModel" value="waas" checked
                       style="width: 20px; height: 20px; margin-right: 0.75rem; accent-color: var(--color-yellow);">
                <span style="font-size: 0.875rem; font-weight: 700;">Stała opieka (WaaS) ⭐</span>
              </label>
            </div>
          </div>

          <!-- Wiadomość -->
          <div class="form-group" style="margin-bottom: 2rem;">
            <label style="display: block; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.75rem; font-size: 0.875rem;">Wiadomość *</label>
            <textarea id="message" name="message" rows="6" required
                      style="width: 100%; padding: 1rem; background: var(--color-bg); border: 2px solid var(--color-text); color: var(--color-text); font-size: 1rem; font-family: var(--font-body); resize: vertical; transition: border-color var(--transition);"
                      onfocus="this.style.borderColor='var(--color-yellow)'"
                      onblur="this.style.borderColor='var(--color-text)'"
                      placeholder="Opisz krótko swój projekt lub zadaj pytanie..."></textarea>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center;">
            Wyślij wiadomość
          </button>

          <!-- Info -->
          <p style="margin-top: 1.5rem; font-size: 0.875rem; color: var(--color-text-muted); text-align: center;">
            * Pola wymagane. Twoje dane są bezpieczne i nie będą udostępniane osobom trzecim.
          </p>
        </form>

        <!-- Alternatywny kontakt email -->
        <div class="fade-in-element" style="margin-top: 2rem; text-align: center; padding: 2rem; background: var(--color-blue); border: 3px solid var(--color-text);">
          <p style="font-size: 0.875rem; color: #ffffff; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 700;">Lub napisz bezpośrednio:</p>
          <a href="mailto:strony@michalrapala.com" style="font-family: var(--font-display); font-size: 1.5rem; font-weight: 900; color: var(--color-yellow); text-decoration: none; transition: color var(--transition);">
            strony@michalrapala.com
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- INFO -->
  <section class="section" style="background: var(--color-bg-alt);">
    <div class="container text-center">
      <div class="section-header fade-in-element">
        <span class="section-tag">Info</span>
        <h2 class="section-title">Jak to działa?</h2>
        <p class="section-description">Najlepszym sposobem na kontakt jest wypełnienie formularza powyżej. Staram się odpowiadać jak najszybciej.</p>
      </div>

      <div class="blocks-grid" style="max-width: 800px; margin: 0 auto;">
        <div class="block block-pink fade-in-element">
          <span class="block-number">01</span>
          <h3 class="block-title">Napisz</h3>
          <p class="block-description">Wypełnij formularz lub wyślij e-mail z opisem projektu.</p>
        </div>
        <div class="block block-blue fade-in-element">
          <span class="block-number">02</span>
          <h3 class="block-title">Odpowiem</h3>
          <p class="block-description">Odezwę się z propozycją lub odpowiedziami na pytania (24-48h).</p>
        </div>
        <div class="block block-green fade-in-element">
          <span class="block-number">03</span>
          <h3 class="block-title">Działamy</h3>
          <p class="block-description">Po ustaleniu szczegółów rozpoczynamy współpracę w wybranym modelu.</p>
        </div>
      </div>

      <p class="fade-in-element mt-4" style="color: var(--color-text-muted);">Dziękuję za zainteresowanie!</p>
    </div>
  </section>

  <div id="footer-container"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const navbarContainer = document.getElementById('navbar-container');
      const footerContainer = document.getElementById('footer-container');

      async function loadTemplate(url, containerElement) {
        try {
          const response = await fetch(url);
          if (!response.ok) throw new Error(`Nie udało się załadować ${url}`);
          const html = await response.text();
          containerElement.innerHTML = html;
          if (containerElement.id === 'navbar-container') {
            initializeMobileMenu();
            initializeNavbarScroll();
            initializeDesktopHamburger();
          }
          if (containerElement.id === 'footer-container') {
            initializeThemeToggle();
          }
        } catch (error) {
          console.error('Błąd ładowania szablonu:', error);
        }
      }

      function initializeMobileMenu() {
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        if (menuToggle && mobileMenu) {
          menuToggle.addEventListener('click', () => {
            const isOpen = mobileMenu.classList.toggle('open');
            const iconMenu = menuToggle.querySelector('.icon-menu');
            const iconClose = menuToggle.querySelector('.icon-close');
            if (iconMenu && iconClose) {
              iconMenu.classList.toggle('hidden', isOpen);
              iconClose.classList.toggle('hidden', !isOpen);
            }
            menuToggle.setAttribute('aria-expanded', String(isOpen));
          });
        }
      }

      function initializeNavbarScroll() {
        const navMain = document.getElementById('nav-main');
        if (!navMain) return;
        const handleScroll = () => {
          const scrolled = window.scrollY > 50;
          const isExpanded = navMain.classList.contains('nav-expanded');
          if (scrolled && !isExpanded) {
            navMain.classList.add('nav-collapsed');
          } else if (!scrolled) {
            navMain.classList.remove('nav-collapsed', 'nav-expanded');
            const desktopHamburger = document.getElementById('desktop-hamburger');
            if (desktopHamburger) {
              const iconMenu = desktopHamburger.querySelector('.icon-menu');
              const iconClose = desktopHamburger.querySelector('.icon-close');
              if (iconMenu && iconClose) {
                iconMenu.classList.remove('hidden');
                iconClose.classList.add('hidden');
              }
              desktopHamburger.setAttribute('aria-expanded', 'false');
            }
          }
        };
        window.addEventListener('scroll', handleScroll, { passive: true });
      }

      function initializeDesktopHamburger() {
        const desktopHamburger = document.getElementById('desktop-hamburger');
        const navMain = document.getElementById('nav-main');
        if (!desktopHamburger || !navMain) return;
        desktopHamburger.addEventListener('click', () => {
          const isExpanded = navMain.classList.toggle('nav-expanded');
          const iconMenu = desktopHamburger.querySelector('.icon-menu');
          const iconClose = desktopHamburger.querySelector('.icon-close');
          if (iconMenu && iconClose) {
            iconMenu.classList.toggle('hidden', isExpanded);
            iconClose.classList.toggle('hidden', !isExpanded);
          }
          desktopHamburger.setAttribute('aria-expanded', String(isExpanded));
        });
      }

      function initializeThemeToggle() {
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;

        const savedTheme = localStorage.getItem('theme') || 'dark';
        html.setAttribute('data-theme', savedTheme);

        if (themeToggle) {
          themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
          });
        }
      }

      if (navbarContainer) loadTemplate('navbar-template.html', navbarContainer);
      if (footerContainer) loadTemplate('footer-template.html', footerContainer);

      // FORMULARZ CONTACT - Basic client-side handling
      const contactForm = document.getElementById('contactForm');
      if (contactForm) {
        contactForm.addEventListener('submit', (e) => {
          e.preventDefault();

          const formData = new FormData(contactForm);
          const name = formData.get('name');
          const email = formData.get('email');
          const businessModel = formData.get('businessModel');
          const message = formData.get('message');

          const modelText = businessModel === 'waas' ? 'Stała opieka (WaaS)' : 'Jednorazowy projekt';

          // Mailto fallback (może być zastąpione backend API w przyszłości)
          const subject = encodeURIComponent(`Kontakt: ${modelText} - ${name}`);
          const body = encodeURIComponent(
            `Imię: ${name}\nEmail: ${email}\nModel: ${modelText}\n\nWiadomość:\n${message}`
          );

          window.location.href = `mailto:strony@michalrapala.com?subject=${subject}&body=${body}`;

          // Opcjonalnie: pokazanie komunikatu sukcesu
          alert('Przekierowuję do klienta email. Jeśli nie otworzy się automatycznie, napisz na: strony@michalrapala.com');
        });
      }
    });

    const animatedElements = document.querySelectorAll('.fade-in-element');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    animatedElements.forEach(element => observer.observe(element));
  </script>
</body>
</html>
